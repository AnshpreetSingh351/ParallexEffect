<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Next Level Particle Energy Field</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  html, body {
    margin: 0;
    padding: 0;
    background: #050505;
    overflow: hidden;
    height: 100%;
    font-family: Inter, system-ui, sans-serif;
  }

  canvas {
    display: block;
  }

  .title {
    position: fixed;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    color: white;
    font-size: clamp(32px, 6vw, 84px);
    font-weight: 700;
    letter-spacing: -0.03em;
    pointer-events: none;
    mix-blend-mode: screen;
    text-align: center;
    opacity: 0.9;
  }

  .subtitle {
    font-size: 14px;
    letter-spacing: 0.2em;
    opacity: 0.6;
    margin-top: 10px;
  }
</style>
</head>
<body>
<style>
.back-btn{
  position:fixed; top:16px; left:16px; z-index:9999;
  padding:10px 14px; border-radius:10px; border:1px solid rgba(255,255,255,.2);
  background:rgba(0,0,0,.6); color:#fff; text-decoration:none; font-family:Inter,system-ui,sans-serif;
  backdrop-filter: blur(6px); cursor:pointer;
}
.back-btn:hover{ transform: translateY(-1px); }
</style>
<button class="back-btn" onclick="goHome()">← Back</button>
<script>
function goHome(){
  const p = window.location.pathname.replace(/\\/g,'/');
  const idx = p.lastIndexOf('/effects/');
  if(idx !== -1){
    const home = p.slice(0, idx) + '/index.html';
    window.location.href = home;
  } else {
    // fallback
    window.location.href = '../index.html';
  }
}
</script>

<!-- Back Button -->
<style>
.back-btn {
  position: fixed;
  top: 16px;
  left: 16px;
  z-index: 9999;
  padding: 10px 14px;
  border-radius: 10px;
  background: rgba(0,0,0,0.6);
  color: #fff;
  text-decoration: none;
  font-family: Inter, system-ui, sans-serif;
  border: 1px solid rgba(255,255,255,0.2);
  backdrop-filter: blur(6px);
  transition: transform .15s ease, box-shadow .15s ease, background .15s ease;
}
.back-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(0,0,0,0.35);
  background: rgba(20,20,20,0.8);
}
</style>
<a class="back-btn" href="javascript:history.back()">← Back</a>


<canvas id="c"></canvas>

<div class="title">
  ENERGY FIELD
  <div class="subtitle">MOVE YOUR MOUSE</div>
</div>

<script>
const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d");

let w, h, particles = [];
const count = 1200;

const mouse = {
  x: 0,
  y: 0
};

function resize() {
  w = canvas.width = window.innerWidth;
  h = canvas.height = window.innerHeight;
}
window.addEventListener("resize", resize);
resize();

window.addEventListener("mousemove", (e) => {
  mouse.x = e.clientX;
  mouse.y = e.clientY;
});

class Particle {
  constructor() {
    this.reset();
  }

  reset() {
    this.x = Math.random() * w;
    this.y = Math.random() * h;
    this.vx = (Math.random() - 0.5) * 0.5;
    this.vy = (Math.random() - 0.5) * 0.5;
    this.size = Math.random() * 1.5 + 0.5;
    this.life = Math.random() * 1000;
  }

  update() {
    const dx = mouse.x - this.x;
    const dy = mouse.y - this.y;
    const dist = Math.sqrt(dx * dx + dy * dy) || 1;

    // Soft attraction field
    const force = Math.min(120 / dist, 2);

    this.vx += (dx / dist) * force * 0.02;
    this.vy += (dy / dist) * force * 0.02;

    // Flow noise style movement
    this.vx += Math.sin(this.y * 0.002 + performance.now() * 0.001) * 0.02;
    this.vy += Math.cos(this.x * 0.002 + performance.now() * 0.001) * 0.02;

    // Damping
    this.vx *= 0.98;
    this.vy *= 0.98;

    this.x += this.vx;
    this.y += this.vy;

    // Wrap around screen
    if (this.x < 0) this.x = w;
    if (this.x > w) this.x = 0;
    if (this.y < 0) this.y = h;
    if (this.y > h) this.y = 0;
  }

  draw() {
    ctx.beginPath();
    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
    ctx.fill();
  }
}

// Create particles
for (let i = 0; i < count; i++) {
  particles.push(new Particle());
}

function animate() {
  // Motion blur fade
  ctx.fillStyle = "rgba(5,5,5,0.2)";
  ctx.fillRect(0, 0, w, h);

  ctx.fillStyle = "rgba(120,180,255,0.8)";

  for (let p of particles) {
    p.update();
    p.draw();
  }

  requestAnimationFrame(animate);
}

animate();
</script>

</body>
</html>
